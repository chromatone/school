import{b as o,U as F,l as N,u as s,d as l,e,t as a,g as w,F as T,f as V,T as A}from"./framework.B-l7dn_f.js";import{u as K,l as S,F as U,a as $,K as q}from"./theme.CVD2iZGf.js";import{c as D,u as y}from"./index.B_32Wq_7.js";const E={key:0,class:"flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-dark-50 p-4 rounded-3xl"},H={class:"flex flex-wrap gap-2 items-center"},L={class:"text-2xl font-bold"},P={class:"text-2xl"},j={class:"flex flex-wrap gap-2 items-center"},z=["src"],G={class:"p-0"},I={class:"flex flex-wrap gap-2"},J={class:"text-lg"},M={key:0,class:"flex flex-col gap-2"},O={class:"p-0"},Q={class:"p-0"},R={class:"flex flex-col gap-2"},W=["href"],X={class:"op-50"},Y={class:"op-100"},Z={class:"op-60"},le={__name:"CoursePage",setup(ee){const c=K(),C=S("https://schooldb.chromatone.center/").with(U()),t=D(async()=>c.value&&await C.request(q("courses",c.value,{fields:["*","program.title","classes.*","classes.module.title","teacher.*","enrollments.*"]})),[]);return $(),(se,d)=>(o(),F(A,{name:"fade"},{default:N(()=>{var i,n,h,_,u,p,m,f,x,g,v,k,b;return[s(c)?(o(),l("div",E,[d[0]||(d[0]=e("a",{class:"p-4 rounded-full bg-dark-200 absolute top-2 right-2",href:"#"},[e("div",{class:"i-la-times"})],-1)),e("div",H,[e("div",L,a((i=s(t).program)==null?void 0:i.title),1),e("div",P,a(s(t).level)+" Course",1)]),e("div",j,[(h=(n=s(t))==null?void 0:n.teacher)!=null&&h.avatar?(o(),l("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(u=(_=s(t))==null?void 0:_.teacher)==null?void 0:u.avatar}?width=30&height=30`},null,8,z)):w("",!0),e("div",G,a((m=(p=s(t))==null?void 0:p.teacher)==null?void 0:m.first_name)+" "+a((x=(f=s(t))==null?void 0:f.teacher)==null?void 0:x.last_name),1)]),e("div",I,[e("div",J,"Starts "+a(s(y)(s(t).start_date)),1)]),(o(),l("div",M,[e("div",O,a((g=s(t))==null?void 0:g.enrollments.length)+"/"+a((v=s(t))==null?void 0:v.capacity)+" students enrolled ",1),e("div",Q,"Need "+a((k=s(t))==null?void 0:k.threshold)+" to start course",1)])),e("div",R,[(o(!0),l(T,null,V((b=s(t))==null?void 0:b.classes,(r,B)=>(o(),l("a",{class:"no-underline p-2 rounded-xl bg-dark-700 flex gap-2",key:r,href:`/classes/#${r.id}`},[e("div",X,a(B+1)+".",1),e("div",Y,a(r.module.title),1),e("div",Z,a(s(y)(r.date)),1)],8,W))),128))])])):w("",!0)]}),_:1}))}};export{le as default};
