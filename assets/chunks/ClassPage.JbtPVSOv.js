import{r as U,f as t,D as z,q as I,u as e,h as r,j as a,t as o,k as l,p as O,G as Q,H as R,T as W}from"./framework.BrhOyqmp.js";import{c as J,l as X,F as Y,K as L,a as Z}from"./theme.C31g09kU.js";import{u as ee}from"./useHash.mPwdT7Su.js";import{C as se}from"./ContactMe.BXnWF01R.js";import{f as te}from"./format.BLmWzEp7.js";const ae={key:0,class:"mx-2 flex flex-col gap-4 bg-light-200 p-4 rounded-3xl shadow-lg"},oe={class:"flex flex-wrap gap-2"},re={key:0,class:"text-lg"},le={class:"flex flex-wrap gap-2 items-center"},ce={class:"text-2xl font-bold"},de={class:"text-2xl"},ie={class:"text-4xl"},ne={class:"flex flex-wrap gap-2 items-center"},ue=["src"],he={class:"p-0"},pe={key:0,class:"text-xs"},_e={key:1,class:"flex flex-wrap gap-2 p-2"},ke={__name:"ClassPage",setup(me){const c=ee(),s=J(async()=>c.value&&await X("https://schooldb.chromatone.center/").with(Y()).request(L("classes",c.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:n,userDB:P}=Z(),u=J(async()=>n.value&&await P.request(L("classes",c.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=U(!1);async function S(){h.value=!0}return(fe,d)=>(t(),z(W,{name:"fade"},{default:I(()=>{var p,_,m,f,x,g,v,y,w,k,b,C,B,E,M,H,j,q,D,F,N,V,K,T,$;return[e(c)?(t(),r("div",ae,[d[1]||(d[1]=a("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"/classes/#"},[a("div",{class:"i-la-angle-left"})],-1)),a("div",oe,[e(s).date?(t(),r("div",re,o(e(te)(e(s).date,"HH:mm EEEE dd MMMM yyyy")),1)):l("",!0)]),a("div",le,[a("div",ce,o((m=(_=(p=e(s))==null?void 0:p.course)==null?void 0:_.program)==null?void 0:m.title),1),a("div",de,o((x=(f=e(s))==null?void 0:f.course)==null?void 0:x.level),1)]),a("div",ie,o((v=(g=e(s))==null?void 0:g.module)==null?void 0:v.title),1),a("div",ne,[(k=(w=(y=e(s))==null?void 0:y.course)==null?void 0:w.teacher)!=null&&k.avatar?(t(),r("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(B=(C=(b=e(s))==null?void 0:b.course)==null?void 0:C.teacher)==null?void 0:B.avatar}?width=30&height=30`},null,8,ue)):l("",!0),a("div",he,o((H=(M=(E=e(s))==null?void 0:E.course)==null?void 0:M.teacher)==null?void 0:H.first_name)+" "+o((D=(q=(j=e(s))==null?void 0:j.course)==null?void 0:q.teacher)==null?void 0:D.last_name),1)]),(N=(F=e(s))==null?void 0:F.module)!=null&&N.description?(t(),r("div",pe,o((K=(V=e(s))==null?void 0:V.module)==null?void 0:K.description),1)):l("",!0),O(se),(T=e(u))!=null&&T.students?(t(),r("div",_e,[(t(!0),r(Q,null,R(($=e(u))==null?void 0:$.students,i=>{var A,G;return t(),r("div",{class:"p-2 bg-light-800 rounded-xl",key:i},o((A=i.directus_users_id)==null?void 0:A.first_name)+" "+o((G=i.directus_users_id)==null?void 0:G.last_name),1)}),128))])):l("",!0),e(n)&&!h.value?(t(),r("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-orange-400 rounded-xl font-bold uppercase",onClick:d[0]||(d[0]=i=>S())},"Join")):l("",!0)])):l("",!0)]}),_:1}))}};export{ke as default};
