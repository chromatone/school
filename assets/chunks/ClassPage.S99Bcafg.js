import{r as U,f as t,E as z,x as G,u as e,h as r,j as a,l as o,k as l,q as O,I as Q,J as R,T as W}from"./framework.COiIuXUL.js";import{c as I,a as X,l as Y,F as Z,K as L}from"./theme.PT4bRhoD.js";import{u as ee}from"./useHash.CuSMECjV.js";import{C as se}from"./ContactMe.kU59SSSy.js";import{f as te}from"./format.BLmWzEp7.js";const ae={key:0,class:"mx-2 flex flex-col gap-4 bg-light-200 p-4 rounded-3xl shadow-lg"},oe={class:"flex flex-wrap gap-2"},re={key:0,class:"text-lg"},le={class:"flex flex-wrap gap-2 items-center"},ce={class:"text-2xl font-bold"},de={class:"text-2xl"},ie={class:"text-4xl"},ne={class:"flex flex-wrap gap-2 items-center"},ue=["src"],he={class:"p-0"},_e={key:0,class:"text-xs"},pe={key:1,class:"flex flex-wrap gap-2 p-2"},ke={__name:"ClassPage",setup(me){const c=ee(),s=I(async()=>c.value&&await Y("https://schooldb.chromatone.center/").with(Z()).request(L("classes",c.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:n,userDB:P}=X(),u=I(async()=>n.value&&await P.request(L("classes",c.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=U(!1);async function S(){h.value=!0}return(fe,d)=>(t(),z(W,{name:"fade"},{default:G(()=>{var _,p,m,f,x,g,v,y,w,k,b,C,E,B,M,j,q,F,H,N,V,D,J,K,T;return[e(c)?(t(),r("div",ae,[d[1]||(d[1]=a("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"/classes/#"},[a("div",{class:"i-la-angle-left"})],-1)),a("div",oe,[e(s).date?(t(),r("div",re,o(e(te)(e(s).date,"HH:mm EEEE dd MMMM yyyy")),1)):l("",!0)]),a("div",le,[a("div",ce,o((m=(p=(_=e(s))==null?void 0:_.course)==null?void 0:p.program)==null?void 0:m.title),1),a("div",de,o((x=(f=e(s))==null?void 0:f.course)==null?void 0:x.level),1)]),a("div",ie,o((v=(g=e(s))==null?void 0:g.module)==null?void 0:v.title),1),a("div",ne,[(k=(w=(y=e(s))==null?void 0:y.course)==null?void 0:w.teacher)!=null&&k.avatar?(t(),r("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(E=(C=(b=e(s))==null?void 0:b.course)==null?void 0:C.teacher)==null?void 0:E.avatar}?width=30&height=30`},null,8,ue)):l("",!0),a("div",he,o((j=(M=(B=e(s))==null?void 0:B.course)==null?void 0:M.teacher)==null?void 0:j.first_name)+" "+o((H=(F=(q=e(s))==null?void 0:q.course)==null?void 0:F.teacher)==null?void 0:H.last_name),1)]),(V=(N=e(s))==null?void 0:N.module)!=null&&V.description?(t(),r("div",_e,o((J=(D=e(s))==null?void 0:D.module)==null?void 0:J.description),1)):l("",!0),O(se),(K=e(u))!=null&&K.students?(t(),r("div",pe,[(t(!0),r(Q,null,R((T=e(u))==null?void 0:T.students,i=>{var $,A;return t(),r("div",{class:"p-2 bg-light-800 rounded-xl",key:i},o(($=i.directus_users_id)==null?void 0:$.first_name)+" "+o((A=i.directus_users_id)==null?void 0:A.last_name),1)}),128))])):l("",!0),e(n)&&!h.value?(t(),r("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-orange-400 rounded-xl font-bold uppercase",onClick:d[0]||(d[0]=i=>S())},"Join")):l("",!0)])):l("",!0)]}),_:1}))}};export{ke as default};
