import{y as p,o as _,b as o,d as i,k as f,l as m,g as x,F as h,f as g,n as b,u as r,e,t as l,S as k}from"./framework.B-l7dn_f.js";import{u as v}from"./useWS.DAkCvEAs.js";import{u as w}from"./index.B_32Wq_7.js";import{u as y}from"./theme.CVD2iZGf.js";const B={class:"flex flex-wrap gap-4 py-8"},C={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},S=["href"],N={class:"text-2xl flex flex-wrap items-baseline gap-2"},T={class:"op-70"},V={class:"px-2 py-1 bg-dark-800 rounded-lg text-sm"},j={class:"flex w-full"},E={class:"text-sm"},F={class:"p-2 rounded-xl shadow bg-dark-400"},A={__name:"CourseList",setup(H){const{ws:d}=v(),a=p([]);_(async()=>{const{subscription:n}=await d.subscribe("courses",{uid:"courses-list-sub",query:{sort:["start_date"],fields:["*","program.title","classes.*","classes.module.title"]}});for await(const t of n)switch(t.event){case"init":Object.assign(a,t.data);break;case"update":t.data.forEach(s=>Object.assign(a.find(u=>u.id==s.id),s));break}});const c=y();return(n,t)=>(o(),i("div",B,[f(k,{name:"fade"},{default:m(()=>[a.length==0?(o(),i("div",C)):x("",!0),(o(!0),i(h,null,g(a,s=>(o(),i("a",{class:b(["no-underline shadow-lg p-4 flex flex-col rounded-xl bg-dark-200 gap-2 flex-1",{"bg-dark-500":s.id==r(c)}]),key:s.id,href:`/courses/#${s.id}`},[e("div",N,[e("div",T,l(s.program.title),1),e("div",V,l(s.level),1)]),e("div",j,[e("div",E,"Starts "+l(r(w)(s.start_date)),1),t[0]||(t[0]=e("div",{class:"flex-1"},null,-1))]),e("button",F,l(s.classes_count)+" weekly classes - 2400 THB",1)],10,S))),128))]),_:1})]))}};export{A as default};
