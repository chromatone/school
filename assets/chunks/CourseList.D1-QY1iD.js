import{y as c,o as u,a as i,c as o,h as p,i as _,g as f,F as x,m,b as e,t as l,u as g,S as h}from"./framework.NwtUIcuv.js";import{u as b}from"./useWS.DoeKZDhS.js";import{u as v}from"./index.Cc-n4HqE.js";import"./theme.DcgH1IO4.js";const w={class:"flex flex-wrap gap-4 py-8"},k={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},y=["href"],S={class:"text-2xl flex flex-wrap items-baseline gap-2"},B={class:"op-70"},C={class:"px-2 py-1 bg-dark-800 rounded-lg text-sm"},N={class:"text-xl op-80"},V={class:"flex w-full"},j={class:"text-sm"},q={__name:"CourseList",setup(E){const{ws:r}=b(),a=c([]);return u(async()=>{const{subscription:n}=await r.subscribe("courses",{uid:"courses-list-sub",query:{sort:["start_date"],fields:["*","program.title","classes.*","classes.module.title"]}});for await(const t of n)switch(t.event){case"init":Object.assign(a,t.data);break;case"update":t.data.forEach(s=>Object.assign(a.find(d=>d.id==s.id),s));break}}),(n,t)=>(i(),o("div",w,[p(h,{name:"fade"},{default:_(()=>[a.length==0?(i(),o("div",k)):f("",!0),(i(!0),o(x,null,m(a,s=>(i(),o("a",{class:"no-underline shadow-lg p-4 text-xl flex flex-col rounded-xl bg-dark-200 gap-2 flex-1",key:s.id,href:`#${s.id}`},[e("div",S,[e("div",B,l(s.program.title),1),e("div",C,l(s.level),1)]),e("div",N,l(s.classes_count)+" classes ",1),e("div",V,[e("div",j,"Starts "+l(g(v)(s.start_date)),1),t[0]||(t[0]=e("div",{class:"flex-1"},null,-1)),t[1]||(t[1]=e("div",{class:"text-lg"},null,-1))])],8,y))),128))]),_:1})]))}};export{q as default};
