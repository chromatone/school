import{a,c as o,b as s,_ as U,r as z,S as G,i as I,u as e,t as r,g as c,h as O,F as Q,q as R,T as W}from"./framework.KJHvv_yO.js";import{u as X,l as Y,F as Z,K as T}from"./theme.CEQJVZn5.js";import{c as A}from"./index.E0vseMWQ.js";import{u as ee}from"./useHash.63-nVywQ.js";import{f as se}from"./format.CHl3EdWp.js";const te={class:"p-4 flex gap-2 items-center"};function ae(J,l){return a(),o("div",te,l[0]||(l[0]=[s("div",{class:"text-xl"},"For attendence contact me in DM",-1),s("a",{class:"no-underline flex items-center gap-1 p-2 rounded-xl bg-light-500 shadow active-brightness-200 hover-brightness-130",href:"https://t.me/starov",target:"_blank"},[s("div",{class:"i-la-telegram"}),s("div",{class:"p-0"},"starov")],-1)]))}const re={},oe=U(re,[["render",ae]]),le={key:0,class:"flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-200 p-4 rounded-3xl"},ce={class:"flex flex-wrap gap-2"},ie={key:0,class:"text-lg"},ne={class:"flex flex-wrap gap-2 items-center"},de={class:"text-2xl font-bold"},ue={class:"text-2xl"},he={class:"text-4xl"},_e={class:"flex flex-wrap gap-2 items-center"},me=["src"],pe={class:"p-0"},fe={key:0,class:"text-xs"},xe={key:1,class:"flex flex-wrap gap-2 p-2"},Me={__name:"ClassPage",setup(J){const l=ee(),t=A(async()=>l.value&&await Y("https://schooldb.chromatone.center/").with(Z()).request(T("classes",l.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:d,userDB:L}=X(),u=A(async()=>d.value&&await L.request(T("classes",l.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=z(!1);async function P(){h.value=!0}return(ge,i)=>(a(),G(W,{name:"fade"},{default:I(()=>{var _,m,p,f,x,g,v,b,y,w,k,M,B,C,E,F,$,q,D,H,N,V,j,K,S;return[e(l)?(a(),o("div",le,[i[1]||(i[1]=s("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[s("div",{class:"i-la-times"})],-1)),s("div",ce,[e(t).date?(a(),o("div",ie,r(e(se)(e(t).date,"HH:mm EEEE dd MMMM yyyy")),1)):c("",!0)]),s("div",ne,[s("div",de,r((p=(m=(_=e(t))==null?void 0:_.course)==null?void 0:m.program)==null?void 0:p.title),1),s("div",ue,r((x=(f=e(t))==null?void 0:f.course)==null?void 0:x.level),1)]),s("div",he,r((v=(g=e(t))==null?void 0:g.module)==null?void 0:v.title),1),s("div",_e,[(w=(y=(b=e(t))==null?void 0:b.course)==null?void 0:y.teacher)!=null&&w.avatar?(a(),o("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(B=(M=(k=e(t))==null?void 0:k.course)==null?void 0:M.teacher)==null?void 0:B.avatar}?width=30&height=30`},null,8,me)):c("",!0),s("div",pe,r((F=(E=(C=e(t))==null?void 0:C.course)==null?void 0:E.teacher)==null?void 0:F.first_name)+" "+r((D=(q=($=e(t))==null?void 0:$.course)==null?void 0:q.teacher)==null?void 0:D.last_name),1)]),(N=(H=e(t))==null?void 0:H.module)!=null&&N.description?(a(),o("div",fe,r((j=(V=e(t))==null?void 0:V.module)==null?void 0:j.description),1)):c("",!0),O(oe),(K=e(u))!=null&&K.students?(a(),o("div",xe,[(a(!0),o(Q,null,R((S=e(u))==null?void 0:S.students,n=>(a(),o("div",{class:"p-2 bg-light-800 rounded-xl",key:n},r(n.directus_users_id.first_name)+" "+r(n.directus_users_id.last_name),1))),128))])):c("",!0),e(d)&&!h.value?(a(),o("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-green-700 rounded-xl font-bold uppercase",onClick:i[0]||(i[0]=n=>P())},"Join")):c("",!0)])):c("",!0)]}),_:1}))}};export{Me as default};
