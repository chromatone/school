import{r as S,e as t,$ as U,n as z,u as e,f as r,h as a,t as o,j as l,m as G,F as I,C as O,T as Q}from"./framework.l6NM6heN.js";import{c as A,a as R,l as W,F as X,K as J}from"./theme.RQ6Fpvpg.js";import{u as Y}from"./useHash.Bc53GhQs.js";import{C as Z}from"./ContactMe.CgmZZeJ9.js";import{f as ee}from"./format.DrP95sbi.js";const se={key:0,class:"mx-2 flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-200 p-4 rounded-3xl shadow-lg"},te={class:"flex flex-wrap gap-2"},ae={key:0,class:"text-lg"},oe={class:"flex flex-wrap gap-2 items-center"},re={class:"text-2xl font-bold"},le={class:"text-2xl"},ce={class:"text-4xl"},ie={class:"flex flex-wrap gap-2 items-center"},de=["src"],ne={class:"p-0"},ue={key:0,class:"text-xs"},he={key:1,class:"flex flex-wrap gap-2 p-2"},ye={__name:"ClassPage",setup(me){const c=Y(),s=A(async()=>c.value&&await W("https://schooldb.chromatone.center/").with(X()).request(J("classes",c.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:n,userDB:L}=R(),u=A(async()=>n.value&&await L.request(J("classes",c.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=S(!1);async function P(){h.value=!0}return(_e,i)=>(t(),U(Q,{name:"fade"},{default:z(()=>{var m,_,p,f,x,g,v,y,w,b,k,C,B,E,M,F,j,H,N,V,$,q,D,K,T;return[e(c)?(t(),r("div",se,[i[1]||(i[1]=a("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[a("div",{class:"i-la-times"})],-1)),a("div",te,[e(s).date?(t(),r("div",ae,o(e(ee)(e(s).date,"HH:mm EEEE dd MMMM yyyy")),1)):l("",!0)]),a("div",oe,[a("div",re,o((p=(_=(m=e(s))==null?void 0:m.course)==null?void 0:_.program)==null?void 0:p.title),1),a("div",le,o((x=(f=e(s))==null?void 0:f.course)==null?void 0:x.level),1)]),a("div",ce,o((v=(g=e(s))==null?void 0:g.module)==null?void 0:v.title),1),a("div",ie,[(b=(w=(y=e(s))==null?void 0:y.course)==null?void 0:w.teacher)!=null&&b.avatar?(t(),r("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(B=(C=(k=e(s))==null?void 0:k.course)==null?void 0:C.teacher)==null?void 0:B.avatar}?width=30&height=30`},null,8,de)):l("",!0),a("div",ne,o((F=(M=(E=e(s))==null?void 0:E.course)==null?void 0:M.teacher)==null?void 0:F.first_name)+" "+o((N=(H=(j=e(s))==null?void 0:j.course)==null?void 0:H.teacher)==null?void 0:N.last_name),1)]),($=(V=e(s))==null?void 0:V.module)!=null&&$.description?(t(),r("div",ue,o((D=(q=e(s))==null?void 0:q.module)==null?void 0:D.description),1)):l("",!0),G(Z),(K=e(u))!=null&&K.students?(t(),r("div",he,[(t(!0),r(I,null,O((T=e(u))==null?void 0:T.students,d=>(t(),r("div",{class:"p-2 bg-light-800 rounded-xl",key:d},o(d.directus_users_id.first_name)+" "+o(d.directus_users_id.last_name),1))),128))])):l("",!0),e(n)&&!h.value?(t(),r("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-orange-400 rounded-xl font-bold uppercase",onClick:i[0]||(i[0]=d=>P())},"Join")):l("",!0)])):l("",!0)]}),_:1}))}};export{ye as default};
