import{y as x,o as u,a,c as i,h as m,i as g,g as y,F as r,n as c,b as t,t as l,u as p,S as h}from"./framework.BW-R4Th-.js";import{u as v}from"./useWS.DY5Z_LA9.js";import{f}from"./format.CHl3EdWp.js";import"./theme.IgXra-7C.js";const b={class:"flex flex-col gap-4 py-8"},k={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},E=["href"],w={class:"text-2xl flex flex-wrap items-baseline gap-2"},M={class:"op-70"},S={class:"px-2 py-1 bg-dark-800 rounded-lg text-sm"},B={class:"flex w-full"},C={class:"text-xl"},N={class:"text-xl op-80"},V={class:"flex flex-col gap-2"},D={__name:"CourseList",setup(j){const{ws:_}=v(),o=x([]);return u(async()=>{const{subscription:d}=await _.subscribe("courses",{uid:"courses-list-sub",query:{sort:["start_date"],fields:["*","program.title","classes.*"]}});for await(const e of d)switch(e.event){case"init":Object.assign(o,e.data);break;case"update":e.data.forEach(s=>Object.assign(o.find(n=>n.id==s.id),s));break}}),(d,e)=>(a(),i("div",b,[m(h,{name:"fade"},{default:g(()=>[o.length==0?(a(),i("div",k)):y("",!0),(a(!0),i(r,null,c(o,s=>(a(),i("a",{class:"no-underline shadow-lg p-4 text-xl flex flex-col rounded-xl bg-dark-200 gap-2",key:s.id,href:`#${s.id}`},[t("div",w,[t("div",M,l(s.program.title),1),t("div",S,l(s.level),1)]),t("div",B,[t("div",C,"Starts on "+l(p(f)(s.start_date,"EEEE dd MMMM yyyy")),1),e[0]||(e[0]=t("div",{class:"flex-1"},null,-1)),e[1]||(e[1]=t("div",{class:"text-lg"},null,-1))]),t("div",N,l(s.classes_count)+" classes ",1),t("div",V,[(a(!0),i(r,null,c(s==null?void 0:s.classes,n=>(a(),i("div",{class:"p-2",key:n},l(p(f)(n.date,"EEE dd-MMM-yyyy")),1))),128))])],8,E))),128))]),_:1})]))}};export{D as default};
