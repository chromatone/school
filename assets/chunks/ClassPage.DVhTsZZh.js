import{r as z,e as t,$ as G,n as I,u as e,f as r,h as a,t as o,j as l,m as O,F as Q,C as R,T as W}from"./framework.LhDnjOZs.js";import{c as L,l as X,F as Y,K as P,a as Z}from"./theme.BlrQnV7_.js";import{u as ee}from"./useHash.BjdL9CFZ.js";import{C as se}from"./ContactMe.B4eY8Odl.js";import{f as te}from"./format.DrP95sbi.js";const ae={key:0,class:"mx-2 flex flex-col gap-4 bg-light-200 p-4 rounded-3xl shadow-lg"},oe={class:"flex flex-wrap gap-2"},re={key:0,class:"text-lg"},le={class:"flex flex-wrap gap-2 items-center"},ce={class:"text-2xl font-bold"},de={class:"text-2xl"},ie={class:"text-4xl"},ne={class:"flex flex-wrap gap-2 items-center"},ue=["src"],he={class:"p-0"},_e={key:0,class:"text-xs"},me={key:1,class:"flex flex-wrap gap-2 p-2"},be={__name:"ClassPage",setup(pe){const c=ee(),s=L(async()=>c.value&&await X("https://schooldb.chromatone.center/").with(Y()).request(P("classes",c.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:n,userDB:S}=Z(),u=L(async()=>n.value&&await S.request(P("classes",c.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=z(!1);async function U(){h.value=!0}return(fe,d)=>(t(),G(W,{name:"fade"},{default:I(()=>{var _,m,p,f,x,g,v,y,w,b,k,C,B,E,M,F,j,H,N,V,$,q,D,K,T;return[e(c)?(t(),r("div",ae,[d[1]||(d[1]=a("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"/classes/#"},[a("div",{class:"i-la-angle-left"})],-1)),a("div",oe,[e(s).date?(t(),r("div",re,o(e(te)(e(s).date,"HH:mm EEEE dd MMMM yyyy")),1)):l("",!0)]),a("div",le,[a("div",ce,o((p=(m=(_=e(s))==null?void 0:_.course)==null?void 0:m.program)==null?void 0:p.title),1),a("div",de,o((x=(f=e(s))==null?void 0:f.course)==null?void 0:x.level),1)]),a("div",ie,o((v=(g=e(s))==null?void 0:g.module)==null?void 0:v.title),1),a("div",ne,[(b=(w=(y=e(s))==null?void 0:y.course)==null?void 0:w.teacher)!=null&&b.avatar?(t(),r("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(B=(C=(k=e(s))==null?void 0:k.course)==null?void 0:C.teacher)==null?void 0:B.avatar}?width=30&height=30`},null,8,ue)):l("",!0),a("div",he,o((F=(M=(E=e(s))==null?void 0:E.course)==null?void 0:M.teacher)==null?void 0:F.first_name)+" "+o((N=(H=(j=e(s))==null?void 0:j.course)==null?void 0:H.teacher)==null?void 0:N.last_name),1)]),($=(V=e(s))==null?void 0:V.module)!=null&&$.description?(t(),r("div",_e,o((D=(q=e(s))==null?void 0:q.module)==null?void 0:D.description),1)):l("",!0),O(se),(K=e(u))!=null&&K.students?(t(),r("div",me,[(t(!0),r(Q,null,R((T=e(u))==null?void 0:T.students,i=>{var A,J;return t(),r("div",{class:"p-2 bg-light-800 rounded-xl",key:i},o((A=i.directus_users_id)==null?void 0:A.first_name)+" "+o((J=i.directus_users_id)==null?void 0:J.last_name),1)}),128))])):l("",!0),e(n)&&!h.value?(t(),r("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-orange-400 rounded-xl font-bold uppercase",onClick:d[0]||(d[0]=i=>U())},"Join")):l("",!0)])):l("",!0)]}),_:1}))}};export{be as default};
