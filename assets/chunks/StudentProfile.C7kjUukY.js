import{u as o,f as i,h as d,j as e,H as b,I as B,C as U,t as y,k,m as u,v as n,p as _}from"./framework.DW4X5dct.js";import{a as C,c as D,G as E,_ as L}from"./theme.CpoVLELW.js";const S={key:0,class:"p-2 flex flex-col gap-2"},$=["href"],c={class:"text-lg font-bold"},q={class:"op-50 text-sm"},w={__name:"EnrollmentsList",setup(V){const{user:a,userDB:p}=C(),l=D(async()=>{var r;return a.value&&p.request(E("enrollments",{filter:{student:{_eq:(r=a.value)==null?void 0:r.id}},fields:["*","course.*","course.classes.date","course.classes.module.title","course.program.title","course.program.color"]})).then(s=>s||[]).catch(s=>console.log(s))});return(r,s)=>o(a)?(i(),d("div",S,[s[2]||(s[2]=e("div",{class:"text-2xl"},"Your enrollments",-1)),(i(!0),d(b,null,B(o(l),t=>{var f,g,m,v,x;return i(),d("a",{class:"no-underline p-2 bg-light-600 rounded-lg shadow-lg hover-brightness-120",key:t,href:`/enroll/#${t==null?void 0:t.id}`,style:U({backgroundColor:(g=(f=t==null?void 0:t.course)==null?void 0:f.program)==null?void 0:g.color})},[s[0]||(s[0]=e("div",{class:"flex gap-2 items-center"},null,-1)),e("div",c,y((v=(m=t==null?void 0:t.course)==null?void 0:m.program)==null?void 0:v.title),1),s[1]||(s[1]=e("div",{class:"flex-1"},null,-1)),e("div",q,y((x=t==null?void 0:t.course)==null?void 0:x.level),1)],12,$)}),128))])):k("",!0)}},F={key:0,class:"flex flex-col gap-2 bg-light-600 p-2 rounded-xl gap-1 m-2"},N=["value"],z={__name:"StudentProfile",setup(V){const{user:a,userDB:p}=C();async function l(r="first_name",s=""){var t;await p.request(L((t=a.value)==null?void 0:t.id,{[r]:s}))}return(r,s)=>(i(),d(b,null,[o(a)?(i(),d("div",F,[s[8]||(s[8]=e("div",{class:"text-xl"},"USER",-1)),s[9]||(s[9]=e("label",{for:"email"},"Email",-1)),e("input",{class:"p-2 rounded",id:"email",value:o(a).email,type:"text",disabled:""},null,8,N),s[10]||(s[10]=e("label",{for:"first_name"},"First name",-1)),u(e("input",{class:"p-2 rounded",id:"first_name","onUpdate:modelValue":s[0]||(s[0]=t=>o(a).first_name=t),type:"text",onChange:s[1]||(s[1]=t=>l("first_name",t.target.value))},null,544),[[n,o(a).first_name]]),s[11]||(s[11]=e("label",{for:"last_name"},"Last name",-1)),u(e("input",{class:"p-2 rounded",id:"last_name","onUpdate:modelValue":s[2]||(s[2]=t=>o(a).last_name=t),type:"text",onChange:s[3]||(s[3]=t=>l("last_name",t.target.value))},null,544),[[n,o(a).last_name]]),s[12]||(s[12]=e("label",{for:"location"},"Location",-1)),u(e("input",{class:"p-2 rounded",id:"location","onUpdate:modelValue":s[4]||(s[4]=t=>o(a).location=t),type:"text",onChange:s[5]||(s[5]=t=>l("location",t.target.value))},null,544),[[n,o(a).location]]),s[13]||(s[13]=e("label",{for:"birthday"},"Birthday",-1)),u(e("input",{class:"p-2 rounded",id:"birthday","onUpdate:modelValue":s[6]||(s[6]=t=>o(a).birthday=t),type:"date",onChange:s[7]||(s[7]=t=>l("birthday",t.target.value))},null,544),[[n,o(a).birthday]]),s[14]||(s[14]=e("div",{class:"op-40 text-xs"},"Data is saved automatically on every change.",-1))])):k("",!0),_(w)],64))}};export{z as default};
