import{x as p,o as f,a as i,c as l,h as x,i as _,g,F as h,q as v,s as b,u as n,b as e,t as a,Q as w}from"./framework.KJHvv_yO.js";import{u as y}from"./useWS.Cm8oOPMp.js";import{u as k}from"./useHash.63-nVywQ.js";import{f as d}from"./format.CHl3EdWp.js";import"./theme.CEQJVZn5.js";const E={class:"flex gap-4 py-8 overflow-x-scroll"},B={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},C=["href"],H={class:"flex w-full font-mono"},M={class:"text-sm"},N={class:"text-sm"},O={class:"flex items-center"},V={class:"op-70 text-sm"},j={class:"px-2 py-1 bg-light-800 rounded-lg text-sm"},q={class:"text-2xl"},G={__name:"ClassList",setup(F){const{ws:c}=y(),o=p([]),u=k();return f(async()=>{const{subscription:r}=await c.subscribe("classes",{uid:"classes-list-sub",query:{sort:["date"],fields:["*","module.title","course.level","course.program.title"]}});for await(const t of r)switch(t.event){case"init":Object.assign(o,t.data);break;case"update":t.data.forEach(s=>Object.assign(o.find(m=>m.id==s.id),s));break}}),(r,t)=>(i(),l("div",E,[x(w,{name:"fade"},{default:_(()=>[o.length==0?(i(),l("div",B)):g("",!0),(i(!0),l(h,null,v(o,s=>(i(),l("a",{class:b(["no-underline shadow-lg p-4 flex flex-col rounded-xl bg-light-200 gap-2 transition",{"contrast-120":n(u)==s.id}]),key:s.id,href:`#${s.id}`,style:{flex:"1 0 220px"}},[e("div",H,[e("div",M,a(n(d)(s.date," HH:mm EEE")),1),t[0]||(t[0]=e("div",{class:"flex-1"},null,-1)),e("div",N,a(n(d)(s.date,"dd MMM yy")),1)]),e("div",O,[e("div",V,a(s.course.program.title),1),e("div",j,a(s.course.level),1)]),t[1]||(t[1]=e("div",{class:"text-md op-80 flex flex-wrap items-baseline gap-2"},null,-1)),e("div",q,a(s.module.title),1),t[2]||(t[2]=e("button",{class:"p-2 bg-light-800 rounded-xl shadow-lg"},"One time visit - 800 THB",-1))],10,C))),128))]),_:1})]))}};export{G as default};
