import{r as S,a as t,Z as U,h as Z,u as e,c as r,b as a,t as o,d as l,g as z,F as G,C as I,T as O}from"./framework.BqMAUCVn.js";import{c as A,u as Q,l as R,F as W,K as J}from"./theme.n0hWwsmd.js";import{u as X}from"./useHash.DWl5Tp0E.js";import{C as Y}from"./ContactMe.DwJk-tRL.js";import{f as ee}from"./format.CHl3EdWp.js";const se={key:0,class:"mx-2 flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-200 p-4 rounded-3xl shadow-lg"},te={class:"flex flex-wrap gap-2"},ae={key:0,class:"text-lg"},oe={class:"flex flex-wrap gap-2 items-center"},re={class:"text-2xl font-bold"},le={class:"text-2xl"},ce={class:"text-4xl"},ie={class:"flex flex-wrap gap-2 items-center"},de=["src"],ne={class:"p-0"},ue={key:0,class:"text-xs"},he={key:1,class:"flex flex-wrap gap-2 p-2"},ye={__name:"ClassPage",setup(me){const c=X(),s=A(async()=>c.value&&await R("https://schooldb.chromatone.center/").with(W()).request(J("classes",c.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:n,userDB:L}=Q(),u=A(async()=>n.value&&await L.request(J("classes",c.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=S(!1);async function P(){h.value=!0}return(_e,i)=>(t(),U(O,{name:"fade"},{default:Z(()=>{var m,_,p,f,x,g,v,y,w,b,k,C,B,E,M,F,H,N,V,j,q,D,K,T,$;return[e(c)?(t(),r("div",se,[i[1]||(i[1]=a("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[a("div",{class:"i-la-times"})],-1)),a("div",te,[e(s).date?(t(),r("div",ae,o(e(ee)(e(s).date,"HH:mm EEEE dd MMMM yyyy")),1)):l("",!0)]),a("div",oe,[a("div",re,o((p=(_=(m=e(s))==null?void 0:m.course)==null?void 0:_.program)==null?void 0:p.title),1),a("div",le,o((x=(f=e(s))==null?void 0:f.course)==null?void 0:x.level),1)]),a("div",ce,o((v=(g=e(s))==null?void 0:g.module)==null?void 0:v.title),1),a("div",ie,[(b=(w=(y=e(s))==null?void 0:y.course)==null?void 0:w.teacher)!=null&&b.avatar?(t(),r("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(B=(C=(k=e(s))==null?void 0:k.course)==null?void 0:C.teacher)==null?void 0:B.avatar}?width=30&height=30`},null,8,de)):l("",!0),a("div",ne,o((F=(M=(E=e(s))==null?void 0:E.course)==null?void 0:M.teacher)==null?void 0:F.first_name)+" "+o((V=(N=(H=e(s))==null?void 0:H.course)==null?void 0:N.teacher)==null?void 0:V.last_name),1)]),(q=(j=e(s))==null?void 0:j.module)!=null&&q.description?(t(),r("div",ue,o((K=(D=e(s))==null?void 0:D.module)==null?void 0:K.description),1)):l("",!0),z(Y),(T=e(u))!=null&&T.students?(t(),r("div",he,[(t(!0),r(G,null,I(($=e(u))==null?void 0:$.students,d=>(t(),r("div",{class:"p-2 bg-light-800 rounded-xl",key:d},o(d.directus_users_id.first_name)+" "+o(d.directus_users_id.last_name),1))),128))])):l("",!0),e(n)&&!h.value?(t(),r("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-orange-400 rounded-xl font-bold uppercase",onClick:i[0]||(i[0]=d=>P())},"Join")):l("",!0)])):l("",!0)]}),_:1}))}};export{ye as default};
