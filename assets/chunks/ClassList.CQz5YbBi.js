import{E as g,o as h,a as r,c as n,g as x,h as v,d as b,F as w,C as y,D as k,u as d,b as e,t as a,Y as E}from"./framework.BqMAUCVn.js";import{u as C}from"./useWS.ChWqg1h6.js";import{u as M}from"./useHash.DWl5Tp0E.js";import{f as p}from"./format.CHl3EdWp.js";import"./theme.n0hWwsmd.js";const B={class:"flex gap-4 py-8 overflow-x-scroll max-w-100vw"},H={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},N=["href"],V={class:"flex w-full font-mono"},j={class:"text-sm"},D={class:"text-sm"},F={class:"flex items-center gap-2 items-center"},L={class:"op-70 uppercase"},O={class:"px-2 py-1 bg-light-800 rounded-lg text-xs"},S={class:"text-lg"},$={__name:"ClassList",setup(q){const{ws:f}=C(),o=g([]),_=M();return h(async()=>{const{subscription:l}=await f.subscribe("classes",{uid:"classes-list-sub",query:{sort:["date"],fields:["*","module.title","course.level","course.program.slug"]}});for await(const t of l)switch(t.event){case"init":Object.assign(o,t.data);break;case"update":t.data.forEach(s=>Object.assign(o.find(i=>i.id==s.id),s));break}}),(l,t)=>(r(),n("div",B,[x(E,{name:"fade"},{default:v(()=>[o.length==0?(r(),n("div",H)):b("",!0),(r(!0),n(w,null,y(o,s=>{var i,u,c,m;return r(),n("a",{class:k(["no-underline shadow-lg p-2 flex flex-col rounded-xl gap-2 transition",{[d(_)==s.id?"bg-orange-200":"bg-light-200"]:!0}]),key:s.id,href:`#${s.id}`,style:{flex:"1 0 220px"}},[e("div",V,[e("div",j,a(d(p)(s.date," HH:mm EEE")),1),t[0]||(t[0]=e("div",{class:"flex-1"},null,-1)),e("div",D,a(d(p)(s.date,"dd MMM yy")),1)]),e("div",F,[e("div",L,a((u=(i=s==null?void 0:s.course)==null?void 0:i.program)==null?void 0:u.slug),1),e("div",O,a((c=s==null?void 0:s.course)==null?void 0:c.level),1)]),e("div",S,a((m=s==null?void 0:s.module)==null?void 0:m.title),1)],10,N)}),128))]),_:1})]))}};export{$ as default};
