import{b as o,U as F,l as N,u as s,d as l,e,t as a,g as y,F as T,f as V,T as A}from"./framework.B-l7dn_f.js";import{u as K,l as S,F as U,a as $,K as q}from"./theme.CgoePaCd.js";import{c as D,u as k}from"./index.B_32Wq_7.js";const E={key:0,class:"flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-100 p-4 rounded-3xl"},H={class:"flex flex-wrap gap-2 items-center"},L={class:"text-2xl font-bold"},P={class:"text-2xl"},j={class:"flex flex-wrap gap-2 items-center"},z=["src"],G={class:"p-0"},I={class:"flex flex-wrap gap-2"},J={class:"text-lg"},M={key:0,class:"flex flex-col gap-2"},O={class:"p-0"},Q={class:"p-0"},R={class:"flex flex-col gap-2"},W=["href"],X={class:"op-50"},Y={class:"op-100"},Z={class:"op-60"},le={__name:"CoursePage",setup(ee){const r=K(),C=S("https://schooldb.chromatone.center/").with(U()),t=D(async()=>r.value&&await C.request(q("courses",r.value,{fields:["*","program.title","classes.*","classes.module.title","teacher.*","enrollments.*"]})),[]);return $(),(se,i)=>(o(),F(A,{name:"fade"},{default:N(()=>{var d,n,h,_,u,p,m,f,g,x,v,b,w;return[s(r)?(o(),l("div",E,[i[0]||(i[0]=e("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[e("div",{class:"i-la-times"})],-1)),e("div",H,[e("div",L,a((d=s(t).program)==null?void 0:d.title),1),e("div",P,a(s(t).level)+" Course",1)]),e("div",j,[(h=(n=s(t))==null?void 0:n.teacher)!=null&&h.avatar?(o(),l("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(u=(_=s(t))==null?void 0:_.teacher)==null?void 0:u.avatar}?width=30&height=30`},null,8,z)):y("",!0),e("div",G,a((m=(p=s(t))==null?void 0:p.teacher)==null?void 0:m.first_name)+" "+a((g=(f=s(t))==null?void 0:f.teacher)==null?void 0:g.last_name),1)]),e("div",I,[e("div",J,"Starts "+a(s(k)(s(t).start_date)),1)]),(o(),l("div",M,[e("div",O,a((x=s(t))==null?void 0:x.enrollments.length)+"/"+a((v=s(t))==null?void 0:v.capacity)+" students enrolled ",1),e("div",Q,"Need "+a((b=s(t))==null?void 0:b.threshold)+" to start course",1)])),e("div",R,[(o(!0),l(T,null,V((w=s(t))==null?void 0:w.classes,(c,B)=>(o(),l("a",{class:"no-underline p-2 rounded-xl bg-light-700 flex gap-2",key:c,href:`/classes/#${c.id}`},[e("div",X,a(B+1)+".",1),e("div",Y,a(c.module.title),1),e("div",Z,a(s(k)(c.date)),1)],8,W))),128))])])):y("",!0)]}),_:1}))}};export{le as default};
