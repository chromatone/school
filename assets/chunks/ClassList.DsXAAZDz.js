import{y as p,o as _,a as i,c as l,h as f,i as m,g as x,F as h,n as g,b as e,t as a,u as n,S as v}from"./framework.BW-R4Th-.js";import{u as b}from"./useWS.DY5Z_LA9.js";import{f as d}from"./format.CHl3EdWp.js";import"./theme.IgXra-7C.js";const y={class:"flex flex-col gap-4 py-8"},k={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},w=["href"],E={class:"flex w-full"},M={class:"text-xl"},B={class:"text-lg"},C={class:"text-md op-80 flex flex-wrap items-baseline gap-2"},N={class:"op-70"},S={class:"px-2 py-1 bg-dark-800 rounded-lg text-sm"},V={class:"text-3xl"},q={__name:"ClassList",setup(j){const{ws:c}=b(),o=p([]);return _(async()=>{const{subscription:r}=await c.subscribe("classes",{uid:"classes-list-sub",query:{sort:["date"],fields:["*","module.title","course.level","course.program.title"]}});for await(const t of r)switch(t.event){case"init":Object.assign(o,t.data);break;case"update":t.data.forEach(s=>Object.assign(o.find(u=>u.id==s.id),s));break}}),(r,t)=>(i(),l("div",y,[f(v,{name:"fade"},{default:m(()=>[o.length==0?(i(),l("div",k)):x("",!0),(i(!0),l(h,null,g(o,s=>(i(),l("a",{class:"no-underline shadow-lg p-4 text-xl flex flex-col rounded-xl bg-dark-200 gap-2",key:s.id,href:`#${s.id}`},[e("div",E,[e("div",M,a(n(d)(s.date," HH:mm EEEE")),1),t[0]||(t[0]=e("div",{class:"flex-1"},null,-1)),e("div",B,a(n(d)(s.date,"dd MMMM yyyy")),1)]),e("div",C,[e("div",N,a(s.course.program.title),1),e("div",S,a(s.course.level),1)]),e("div",V,a(s.module.title),1)],8,w))),128))]),_:1})]))}};export{q as default};
