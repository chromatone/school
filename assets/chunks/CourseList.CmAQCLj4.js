import{y as p,o as f,b as i,d as o,k as m,l as _,g as x,F as g,f as h,n as b,u as r,e as t,t as l,S as v}from"./framework.B-l7dn_f.js";import{u as k}from"./useWS.Cotyj20E.js";import{u as w}from"./index.B_32Wq_7.js";import{u as y}from"./theme.DefP58Ys.js";const C={class:"flex flex-wrap gap-4 py-8"},S={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},B=["href"],N={class:"text-2xl flex flex-wrap items-baseline gap-2"},V={class:"op-70"},j={class:"px-2 py-1 bg-dark-800 rounded-lg text-sm"},E={class:"text-md op-80"},F={class:"flex w-full"},L={class:"text-sm"},D={__name:"CourseList",setup(O){const{ws:d}=k(),a=p([]);f(async()=>{const{subscription:n}=await d.subscribe("courses",{uid:"courses-list-sub",query:{sort:["start_date"],fields:["*","program.title","classes.*","classes.module.title"]}});for await(const e of n)switch(e.event){case"init":Object.assign(a,e.data);break;case"update":e.data.forEach(s=>Object.assign(a.find(u=>u.id==s.id),s));break}});const c=y();return(n,e)=>(i(),o("div",C,[m(v,{name:"fade"},{default:_(()=>[a.length==0?(i(),o("div",S)):x("",!0),(i(!0),o(g,null,h(a,s=>(i(),o("a",{class:b(["no-underline shadow-lg p-4 flex flex-col rounded-xl bg-dark-200 gap-2 flex-1",{"bg-dark-500":s.id==r(c)}]),key:s.id,href:`/courses/#${s.id}`},[t("div",N,[t("div",V,l(s.program.title),1),t("div",j,l(s.level),1)]),t("div",E,l(s.classes_count)+" classes ",1),t("div",F,[t("div",L,"Starts "+l(r(w)(s.start_date)),1),e[0]||(e[0]=t("div",{class:"flex-1"},null,-1)),e[1]||(e[1]=t("div",{class:"text-lg"},null,-1))])],10,B))),128))]),_:1})]))}};export{D as default};
