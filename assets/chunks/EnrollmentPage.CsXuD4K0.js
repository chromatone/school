import{u as H,l as L,F as S,c as F,A as V,a as q,G as C,K as G}from"./theme.CIUya4UY.js";import{u as K}from"./useHash.pC7c8Kgz.js";import"./qrcode.vue.esm.DwqizzLX.js";import{$ as P,a as l,c as a,b as s,u as t,F as d,p as R,t as r,C as N,d as A}from"./framework.UKybSiHu.js";import{f as B}from"./format.CHl3EdWp.js";const T={class:"flex flex-col gap-2 p-4 bg-light-300 max-w-45ch"},$={class:"flex gap-2 items-center"},O={class:"text-2xl"},U={class:"op-50 text-2xl"},j={class:"font-bold text-xs"},z={class:"flex gap-2"},I={class:"text-sm"},J={class:"op-50"},Q={class:"flex flex-col gap-2 font-mono text-sm"},W={class:"op-60"},X={class:"font-bold"},Y={key:2,class:"flex flex-wrap gap-2"},Z=["href"],ns={__name:"EnrollmentPage",setup(ss){const{user:c,userDB:es}=H();P();const u=L("https://schooldb.chromatone.center").with(S()),D=F(async()=>await u.request(C("enrollments"))),m=K(),n=F(async()=>m.value?u.request(G("enrollments",m.value,{fields:["course.*","course.classes.*","course.classes.module.title","*","course.program.title"]})).then(i=>i||null).catch(i=>(console.error("Error fetching enrollment:",i),!1)):null);return(i,o)=>{var p,f,_,x,h,v,g,y,E,b,k,M;return l(),a(d,null,[o[3]||(o[3]=s("a",{class:"py-4",href:"/enroll/#"},"ENROLLMENTS",-1)),t(c)?t(n)?(l(),a(d,{key:1},[o[2]||(o[2]=s("div",{class:"text-xl op-40 my-4"},"Enrollment found",-1)),s("div",T,[s("div",$,[s("div",O,r((_=(f=(p=t(n))==null?void 0:p.course)==null?void 0:f.program)==null?void 0:_.title),1),s("div",U,r((h=(x=t(n))==null?void 0:x.course)==null?void 0:h.level),1),o[1]||(o[1]=s("div",{class:"flex-1"},null,-1)),s("div",j,r((v=t(n))==null?void 0:v.status),1)]),s("div",z,[s("div",I,"Starts on "+r(t(B)((y=(g=t(n))==null?void 0:g.course)==null?void 0:y.start_date,"EEE dd MMM yyyy")),1),s("div",J,r(t(q)((b=(E=t(n))==null?void 0:E.course)==null?void 0:b.start_date)),1)]),s("div",Q,[(l(!0),a(d,null,N((M=(k=t(n))==null?void 0:k.course)==null?void 0:M.classes,e=>{var w;return l(),a("div",{class:"flex gap-2 p-1 rounded shadow bg-light-400",key:e},[s("div",W,r(t(B)(e==null?void 0:e.date,"HH:mm a EEE dd MMM yy")),1),s("div",X,r((w=e==null?void 0:e.module)==null?void 0:w.title),1)])}),128))])])],64)):A("",!0):(l(),a(d,{key:0},[o[0]||(o[0]=s("div",{class:"text-2xl"},"Please login to see available enrollments",-1)),R(V)],64)),t(c)?(l(),a("div",Y,[(l(!0),a(d,null,N(t(D),e=>(l(),a("a",{class:"text-xs p-2 op-30",key:e,href:`/enroll/#${e.id}`},r(e==null?void 0:e.id),9,Z))),128))])):A("",!0)],64)}}};export{ns as default};
