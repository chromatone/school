import{_ as N,W as C,w as D,r as L,$ as j,a as i,c as d,u as n,b as a,t as b,d as F,e as q,a0 as z,f as m,v as f,a1 as p,X as A}from"./framework.BiVwS5WG.js";import{u as E,_ as I}from"./theme.BrAgXzeT.js";const T={key:0,class:"flex gap-2 items-center p-2 bg-light-300 rounded-lg m-2"},W=["src"],X={key:1,class:"w-50px rounded-full bg-orange-200 h-50px flex items-center justify-center text-2xl"},G={class:"flex flex-col"},H={class:"text-2xl"},J={class:"text-xs op-50"},K={class:"flex flex-col gap-2"},O={class:"flex flex-col gap-2 flex-1"},P={class:"flex flex-col gap-2 flex-1"},Q={class:"flex flex-col gap-2 flex-1"},R={__name:"StudentForm",props:{modelValue:{type:Boolean,default:!1},modelModifiers:{}},emits:["update:modelValue"],setup(U){const t=C({first_name:"",last_name:""}),{user:l,userDB:$}=E();D(l,r=>{t.first_name=r.first_name,t.last_name=r.last_name,t.birthday=r.birthday,t.location=r.location});const s=L({}),u=j(U,"modelValue");async function M(){s.value=await $.request(I(l.value.id,t)),u.value=!1}return(r,e)=>{var v,x,c,_,y,g,h,w,V,k,S,B;return i(),d(A,null,[n(l)?(i(),d("div",T,[n(l).avatar?(i(),d("img",{key:0,class:"rounded-full",src:`https://schooldb.chromatone.center/assets/${n(l).avatar}?width=50&height=50`},null,8,W)):(i(),d("div",X,e[6]||(e[6]=[a("div",{class:"i-la-user"},null,-1)]))),a("div",G,[a("div",H,b((v=n(l))==null?void 0:v.first_name)+" "+b((x=n(l))==null?void 0:x.last_name),1),a("div",J,b(n(l).location),1)]),e[7]||(e[7]=a("div",{class:"flex-1"},null,-1)),a("button",{onClick:e[0]||(e[0]=o=>u.value=!u.value)},"edit")])):F("",!0),u.value||!((c=n(l))!=null&&c.first_name)||!((_=n(l))!=null&&_.last_name)?(i(),d("form",{key:1,class:"bg-light-600 flex flex-col gap-4 p-2 m-2 rounded-lg max-w-45ch",onSubmit:e[5]||(e[5]=q(o=>M(),["prevent"]))},[z(r.$slots,"default",{},void 0),a("div",K,[a("div",O,[e[8]||(e[8]=a("label",{for:"first_name"},"First Name",-1)),m(a("input",{class:p(["border-2",{"border-yellow":!t.first_name,"border-orange":((y=s.value)==null?void 0:y.first_name)&&t.first_name!=((g=s.value)==null?void 0:g.first_name)}]),id:"first_name",type:"text","onUpdate:modelValue":e[1]||(e[1]=o=>t.first_name=o),placeholder:"Fill in your first name, please"},null,2),[[f,t.first_name]])]),a("div",P,[e[9]||(e[9]=a("label",{for:"last_name"},"Last Name",-1)),m(a("input",{class:p(["border-2",{"border-yellow":!t.last_name,"border-orange":((h=s.value)==null?void 0:h.last_name)&&t.last_name!=((w=s.value)==null?void 0:w.last_name)}]),id:"last_name",type:"text","onUpdate:modelValue":e[2]||(e[2]=o=>t.last_name=o),placeholder:"Fill in your last name, please"},null,2),[[f,t.last_name]])]),a("div",Q,[e[10]||(e[10]=a("label",{for:"location"},"Location",-1)),m(a("input",{class:p(["border-2",{"border-yellow":!t.location,"border-orange-600":((V=s.value)==null?void 0:V.location)&&t.location!=((k=s.value)==null?void 0:k.location)}]),id:"location",type:"text","onUpdate:modelValue":e[3]||(e[3]=o=>t.location=o),placeholder:"At which area of the island do you live?"},null,2),[[f,t.location]])])]),e[11]||(e[11]=a("label",{for:"birthday"},"Birthday",-1)),m(a("input",{class:p(["border-2",{"border-yellow":!t.birthday,"border-orange-600":((S=s.value)==null?void 0:S.birthday)&&t.birthday!=((B=s.value)==null?void 0:B.birthday)}]),id:"birthday",type:"date","onUpdate:modelValue":e[4]||(e[4]=o=>t.birthday=o)},null,2),[[f,t.birthday]]),e[12]||(e[12]=a("button",{class:"p-2 bg-orange-300 rounded-xl shadow-lg hover-brightness-110 active-brightness-130",type:"submit"},"Save ",-1))],32)):F("",!0)],64)}}},ee=N(R,[["__scopeId","data-v-e2b3ac10"]]);export{ee as S};
