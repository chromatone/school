import{a as o,S as N,i as S,u as s,c as l,b as e,t as a,g as k,F as T,q as V,T as q}from"./framework.KJHvv_yO.js";import{l as A,F as K,u as $,K as D}from"./theme.CEQJVZn5.js";import{c as E,u as C}from"./index.E0vseMWQ.js";import{u as H}from"./useHash.63-nVywQ.js";const L={key:0,class:"flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-100 p-4 rounded-3xl"},P={class:"flex flex-wrap gap-2 items-center"},U={class:"text-2xl font-bold"},j={class:"text-2xl"},z={class:"flex flex-wrap gap-2 items-center"},G=["src"],I={class:"p-0"},J={class:"flex flex-wrap gap-2"},M={class:"text-lg"},O={key:0,class:"flex flex-col gap-2"},Q={class:"p-0"},R={class:"p-0"},W={class:"flex flex-col gap-2"},X=["href"],Y={class:"op-50"},Z={class:"op-100"},ee={class:"op-60"},ce={__name:"CoursePage",setup(se){const c=H(),B=A("https://schooldb.chromatone.center/").with(K()),t=E(async()=>c.value&&await B.request(D("courses",c.value,{fields:["*","program.title","classes.*","classes.module.title","teacher.*","enrollments.*"]})),[]);return $(),(te,i)=>(o(),N(q,{name:"fade"},{default:S(()=>{var n,d,h,_,u,p,m,f,g,x,v,b,w,y;return[s(c)?(o(),l("div",L,[i[0]||(i[0]=e("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[e("div",{class:"i-la-times"})],-1)),e("div",P,[e("div",U,a((n=s(t).program)==null?void 0:n.title),1),e("div",j,a(s(t).level)+" Course",1)]),e("div",z,[(h=(d=s(t))==null?void 0:d.teacher)!=null&&h.avatar?(o(),l("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(u=(_=s(t))==null?void 0:_.teacher)==null?void 0:u.avatar}?width=30&height=30`},null,8,G)):k("",!0),e("div",I,a((m=(p=s(t))==null?void 0:p.teacher)==null?void 0:m.first_name)+" "+a((g=(f=s(t))==null?void 0:f.teacher)==null?void 0:g.last_name),1)]),e("div",J,[e("div",M,"Starts "+a(s(C)(s(t).start_date)),1)]),(o(),l("div",O,[e("div",Q,a((v=(x=s(t))==null?void 0:x.enrollments)==null?void 0:v.length)+"/"+a((b=s(t))==null?void 0:b.capacity)+" students enrolled ",1),e("div",R,"Need "+a((w=s(t))==null?void 0:w.threshold)+" to start course",1)])),e("div",W,[(o(!0),l(T,null,V((y=s(t))==null?void 0:y.classes,(r,F)=>(o(),l("a",{class:"no-underline p-2 rounded-xl bg-light-700 flex gap-2",key:r,href:`/classes/#${r.id}`},[e("div",Y,a(F+1)+".",1),e("div",Z,a(r.module.title),1),e("div",ee,a(s(C)(r.date)),1)],8,X))),128))])])):k("",!0)]}),_:1}))}};export{ce as default};
