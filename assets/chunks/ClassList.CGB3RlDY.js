import{y as f,o as p,b as i,d as l,k as x,l as _,g,F as h,f as v,n as b,u as n,e as t,t as a,S as y}from"./framework.B-l7dn_f.js";import{u as w}from"./useWS.DNh_o_hL.js";import{u as k,f as d}from"./theme.CgoePaCd.js";const E={class:"flex gap-4 py-8 overflow-x-scroll"},B={class:"i-la-spinner text-4xl animate-spin absolute",key:"spinner"},C=["href"],H={class:"flex w-full font-mono"},M={class:"text-sm"},N={class:"text-sm"},O={class:"flex items-center"},S={class:"op-70 text-sm"},V={class:"px-2 py-1 bg-light-800 rounded-lg text-sm"},j={class:"text-2xl"},z={__name:"ClassList",setup(F){const{ws:c}=w(),o=f([]),u=k();return p(async()=>{const{subscription:r}=await c.subscribe("classes",{uid:"classes-list-sub",query:{sort:["date"],fields:["*","module.title","course.level","course.program.title"]}});for await(const e of r)switch(e.event){case"init":Object.assign(o,e.data);break;case"update":e.data.forEach(s=>Object.assign(o.find(m=>m.id==s.id),s));break}}),(r,e)=>(i(),l("div",E,[x(y,{name:"fade"},{default:_(()=>[o.length==0?(i(),l("div",B)):g("",!0),(i(!0),l(h,null,v(o,s=>(i(),l("a",{class:b(["no-underline shadow-lg p-4 flex flex-col rounded-xl bg-light-200 gap-2 transition",{"contrast-120":n(u)==s.id}]),key:s.id,href:`#${s.id}`,style:{flex:"1 0 220px"}},[t("div",H,[t("div",M,a(n(d)(s.date," HH:mm EEE")),1),e[0]||(e[0]=t("div",{class:"flex-1"},null,-1)),t("div",N,a(n(d)(s.date,"dd MMM yy")),1)]),t("div",O,[t("div",S,a(s.course.program.title),1),t("div",V,a(s.course.level),1)]),e[1]||(e[1]=t("div",{class:"text-md op-80 flex flex-wrap items-baseline gap-2"},null,-1)),t("div",j,a(s.module.title),1),e[2]||(e[2]=t("button",{class:"p-2 bg-light-800 rounded-xl shadow-lg"},"One time visit - 800 THB",-1))],10,C))),128))]),_:1})]))}};export{z as default};
