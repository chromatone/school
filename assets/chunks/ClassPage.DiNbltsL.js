import{b as a,d as o,e as s,_ as S,r as z,U as G,l as I,u as e,t as r,g as c,k as O,F as Q,f as R,T as W}from"./framework.B-l7dn_f.js";import{u as X,a as Y,f as Z,l as ee,F as se,K as U}from"./theme.CgoePaCd.js";import{c as A}from"./index.B_32Wq_7.js";const te={class:"p-4 flex gap-2 items-center"};function ae(J,l){return a(),o("div",te,l[0]||(l[0]=[s("div",{class:"text-xl"},"For attendence contact me in DM",-1),s("a",{class:"no-underline flex items-center gap-1 p-2 rounded-xl bg-light-500 shadow active-brightness-200 hover-brightness-130",href:"https://t.me/starov",target:"_blank"},[s("div",{class:"i-la-telegram"}),s("div",{class:"p-0"},"starov")],-1)]))}const re={},oe=S(re,[["render",ae]]),le={key:0,class:"flex flex-col gap-4 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-200 p-4 rounded-3xl"},ce={class:"flex flex-wrap gap-2"},ne={key:0,class:"text-lg"},ie={class:"flex flex-wrap gap-2 items-center"},de={class:"text-2xl font-bold"},ue={class:"text-2xl"},he={class:"text-4xl"},_e={class:"flex flex-wrap gap-2 items-center"},pe=["src"],fe={class:"p-0"},me={key:0,class:"text-xs"},xe={key:1,class:"flex flex-wrap gap-2 p-2"},ke={__name:"ClassPage",setup(J){const l=X(),t=A(async()=>l.value&&await ee("https://schooldb.chromatone.center/").with(se()).request(U("classes",l.value,{fields:["*","module.*","course.*","course.teacher.*","course.program.title"]})),[]),{user:d,userDB:L}=Y(),u=A(async()=>d.value&&await L.request(U("classes",l.value,{fields:["*","students.*","students.directus_users_id.*"]})),[]),h=z(!1);async function P(){h.value=!0}return(ge,n)=>(a(),G(W,{name:"fade"},{default:I(()=>{var _,p,f,m,x,g,v,b,y,k,w,M,B,C,E,F,$,D,H,N,V,j,q,K,T;return[e(l)?(a(),o("div",le,[n[1]||(n[1]=s("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[s("div",{class:"i-la-times"})],-1)),s("div",ce,[e(t).date?(a(),o("div",ne,r(e(Z)(e(t).date,"HH:mm EEEE dd MMMM yyyy")),1)):c("",!0)]),s("div",ie,[s("div",de,r((f=(p=(_=e(t))==null?void 0:_.course)==null?void 0:p.program)==null?void 0:f.title),1),s("div",ue,r((x=(m=e(t))==null?void 0:m.course)==null?void 0:x.level),1)]),s("div",he,r((v=(g=e(t))==null?void 0:g.module)==null?void 0:v.title),1),s("div",_e,[(k=(y=(b=e(t))==null?void 0:b.course)==null?void 0:y.teacher)!=null&&k.avatar?(a(),o("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(B=(M=(w=e(t))==null?void 0:w.course)==null?void 0:M.teacher)==null?void 0:B.avatar}?width=30&height=30`},null,8,pe)):c("",!0),s("div",fe,r((F=(E=(C=e(t))==null?void 0:C.course)==null?void 0:E.teacher)==null?void 0:F.first_name)+" "+r((H=(D=($=e(t))==null?void 0:$.course)==null?void 0:D.teacher)==null?void 0:H.last_name),1)]),(V=(N=e(t))==null?void 0:N.module)!=null&&V.description?(a(),o("div",me,r((q=(j=e(t))==null?void 0:j.module)==null?void 0:q.description),1)):c("",!0),O(oe),(K=e(u))!=null&&K.students?(a(),o("div",xe,[(a(!0),o(Q,null,R((T=e(u))==null?void 0:T.students,i=>(a(),o("div",{class:"p-2 bg-light-800 rounded-xl",key:i},r(i.directus_users_id.first_name)+" "+r(i.directus_users_id.last_name),1))),128))])):c("",!0),e(d)&&!h.value?(a(),o("button",{key:2,class:"p-2 shadow-lg hover-brightness-150 hover-shadow-xl bg-green-700 rounded-xl font-bold uppercase",onClick:n[0]||(n[0]=i=>P())},"Join")):c("",!0)])):c("",!0)]}),_:1}))}};export{ke as default};
