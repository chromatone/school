import{a as o,Z as B,h as k,u as s,c as l,b as e,t as a,d as C,F as T,C as A,g as K,i as S,T as $}from"./framework.BqMAUCVn.js";import{l as q,F as D,c as E,u as H,a as N,K as L}from"./theme.n0hWwsmd.js";import{u as M}from"./useHash.DWl5Tp0E.js";import{C as P}from"./ContactMe.DwJk-tRL.js";const U={key:0,class:"mx-4 flex flex-col gap-2 sticky mt-8 overflow-scroll bottom-4 left-4 right-4 bg-light-100 p-4 rounded-3xl max-w-45ch max-h-90vh relative"},Z={class:"flex flex-wrap gap-2 items-center"},j={class:"text-2xl font-bold"},z={class:"text-2xl"},G={class:"flex flex-wrap gap-2 items-center"},I=["src"],J={class:"p-0"},O={class:"flex flex-wrap gap-2"},Q={class:"text-lg"},R={key:0,class:"flex flex-col gap-2"},W={class:"p-0"},X={class:"p-0"},Y={class:"flex flex-col gap-2"},ee=["href"],se={class:"op-50"},te={class:"op-100"},ae={class:"op-60"},de={__name:"CoursePage",setup(oe){const i=M(),F=q("https://schooldb.chromatone.center/").with(D()),t=E(async()=>i.value&&await F.request(L("courses",i.value,{fields:["*","program.title","classes.*","classes.module.title","teacher.*","enrollments.*"]})),[]);return H(),(le,r)=>(o(),B($,{name:"fade"},{default:k(()=>{var n,d,h,u,_,m,p,f,x,g,v,w,b,y;return[s(i)?(o(),l("div",U,[r[1]||(r[1]=e("a",{class:"p-4 rounded-full bg-light-200 absolute top-2 right-2",href:"#"},[e("div",{class:"i-la-times"})],-1)),e("div",Z,[e("div",j,a((n=s(t).program)==null?void 0:n.title),1),e("div",z,a(s(t).level)+" Course",1)]),e("div",G,[(h=(d=s(t))==null?void 0:d.teacher)!=null&&h.avatar?(o(),l("img",{key:0,class:"rounded-full w-30px h-30px",src:`https://schooldb.chromatone.center/assets/${(_=(u=s(t))==null?void 0:u.teacher)==null?void 0:_.avatar}?width=30&height=30`},null,8,I)):C("",!0),e("div",J,a((p=(m=s(t))==null?void 0:m.teacher)==null?void 0:p.first_name)+" "+a((x=(f=s(t))==null?void 0:f.teacher)==null?void 0:x.last_name),1)]),e("div",O,[e("div",Q,"Starts "+a(s(N)(s(t).start_date)),1)]),(o(),l("div",R,[e("div",W,a((v=(g=s(t))==null?void 0:g.enrollments)==null?void 0:v.length)+"/"+a((w=s(t))==null?void 0:w.capacity)+" students enrolled ",1),e("div",X,"Need "+a((b=s(t))==null?void 0:b.threshold)+" to start course",1)])),e("div",Y,[(o(!0),l(T,null,A((y=s(t))==null?void 0:y.classes,(c,V)=>(o(),l("a",{class:"no-underline p-2 rounded-xl bg-light-700 flex gap-2",key:c,href:`/classes/#${c.id}`},[e("div",se,a(V+1)+".",1),e("div",te,a(c.module.title),1),e("div",ae,a(s(N)(c.date)),1)],8,ee))),128))]),K(P,null,{default:k(()=>r[0]||(r[0]=[S("For enrollment contact me via ")])),_:1})])):C("",!0)]}),_:1}))}};export{de as default};
