const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/chunks/ClassList.DlQICEaH.js","assets/chunks/framework.BgEibAZV.js","assets/chunks/theme.DfaxEt3W.js","assets/chunks/format.CHl3EdWp.js","assets/chunks/ClassPage.C1SkgxFd.js"])))=>i.map(i=>d[i]);
import{r as x,o as w,l as Y,m as E,a as m,c as g,b as u,t as _,u as d,F as h,n as T,p as k,g as L,h as y,q as b,s as U}from"./chunks/framework.BgEibAZV.js";import{l as R,F as $,G as P}from"./chunks/theme.DfaxEt3W.js";import{t as v,c as S,n as Z,s as I,m as F,a as W,b as H,f as p}from"./chunks/format.CHl3EdWp.js";function V(s,e,t){const n=v(s,t==null?void 0:t.in);return isNaN(e)?S(s,NaN):(e&&n.setDate(n.getDate()+e),n)}function M(s,e,t){const[n,a]=Z(t==null?void 0:t.in,s,e);return+I(n)==+I(a)}function A(s,e){return v(s,e==null?void 0:e.in).getDate()===1}function O(s,e){const t=()=>S(e==null?void 0:e.in,NaN),n=(e==null?void 0:e.additionalDigits)??2,a=J(s);let i;if(a.date){const r=j(a.date,n);i=K(r.restDateString,r.year)}if(!i||isNaN(+i))return t();const f=+i;let c=0,l;if(a.time&&(c=Q(a.time),isNaN(c)))return t();if(a.timezone){if(l=X(a.timezone),isNaN(l))return t()}else{const r=new Date(f+c),o=v(0,e==null?void 0:e.in);return o.setFullYear(r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()),o.setHours(r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()),o}return v(f+c+l,e==null?void 0:e.in)}const N={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},B=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,q=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,G=/^([+-])(\d{2})(?::?(\d{2}))?$/;function J(s){const e={},t=s.split(N.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],N.timeZoneDelimiter.test(e.date)&&(e.date=s.split(N.timeZoneDelimiter)[0],n=s.substr(e.date.length,s.length))),n){const a=N.timezone.exec(n);a?(e.time=n.replace(a[1],""),e.timezone=a[1]):e.time=n}return e}function j(s,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=s.match(t);if(!n)return{year:NaN,restDateString:""};const a=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?a:i*100,restDateString:s.slice((n[1]||n[2]).length)}}function K(s,e){if(e===null)return new Date(NaN);const t=s.match(B);if(!t)return new Date(NaN);const n=!!t[4],a=D(t[1]),i=D(t[2])-1,f=D(t[3]),c=D(t[4]),l=D(t[5])-1;if(n)return ae(e,c,l)?ee(e,c,l):new Date(NaN);{const r=new Date(0);return!se(e,i,f)||!ne(e,a)?new Date(NaN):(r.setUTCFullYear(e,i,Math.max(a,f)),r)}}function D(s){return s?parseInt(s):1}function Q(s){const e=s.match(q);if(!e)return NaN;const t=C(e[1]),n=C(e[2]),a=C(e[3]);return re(t,n,a)?t*F+n*W+a*1e3:NaN}function C(s){return s&&parseFloat(s.replace(",","."))||0}function X(s){if(s==="Z")return 0;const e=s.match(G);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),a=e[3]&&parseInt(e[3])||0;return ie(n,a)?t*(n*F+a*W):NaN}function ee(s,e,t){const n=new Date(0);n.setUTCFullYear(s,0,4);const a=n.getUTCDay()||7,i=(e-1)*7+t+1-a;return n.setUTCDate(n.getUTCDate()+i),n}const te=[31,null,31,30,31,30,31,31,30,31,30,31];function z(s){return s%400===0||s%4===0&&s%100!==0}function se(s,e,t){return e>=0&&e<=11&&t>=1&&t<=(te[e]||(z(s)?29:28))}function ne(s,e){return e>=1&&e<=(z(s)?366:365)}function ae(s,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function re(s,e,t){return s===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&s>=0&&s<25}function ie(s,e){return e>=0&&e<=59}const le={class:"text-lg mb-4"},ce={class:"grid grid-cols-7 gap-2 mb-8 not-prose overflow-x-scroll"},oe={class:"text-sm font-semibold"},ue={key:0},de=["href"],fe={class:"text-sm"},me={class:"text-sm font-bold"},ge={class:"px-2 bg-dark-500 bg-op-40 rounded-lg text-xs"},_e=7,De=5,he={__name:"ClassSchedule",setup(s){const e=R("https://schooldb.chromatone.center/").with($()),t=x([]);w(async()=>{t.value=await e.request(P("classes",{fields:["*","course.level","course.program.title"]}))});const n=x(H(new Date,{weekStartsOn:1})),a=Y(()=>Array.from({length:_e*De},(c,l)=>V(n.value,l))),i=c=>t.value.filter(l=>M(O(l.date),c)),f=x("");return w(()=>window.addEventListener("hashchange",()=>f.value=window.location.hash.slice(1))),E(()=>window.removeEventListener("hashchange")),(c,l)=>(m(),g(h,null,[l[0]||(l[0]=u("h2",{class:"text-2xl mt-8"},"Class Schedule ",-1)),u("h3",le,"Starting "+_(d(p)(n.value,"dd/MM/yy")),1),u("div",ce,[(m(),g(h,null,T(["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],r=>u("div",{class:"rounded font-bold bg-gray-900 p-2",key:r},_(r),1)),64)),(m(!0),g(h,null,T(a.value,r=>(m(),g("div",{class:k(["rounded p-1 bg-dark-50 flex flex-col gap-1",{"border-4":d(M)(r,Date.now()),"op-50":i(r).length==0}]),key:r},[u("div",oe,_(d(p)(r,"dd"))+" "+_(d(A)(r)?d(p)(r,"MMM"):""),1),t.value?(m(),g("ul",ue,[(m(!0),g(h,null,T(i(r),o=>(m(),g("li",{class:k(["text-sm rounded p-1",{"bg-dark-500":o.id==f.value}]),key:o.title},[u("a",{class:"flex flex-col gap-1 items-start",href:`#${o.id}`},[u("div",fe,_(d(p)(d(O)(o.date),"HH:mm")),1),u("div",me,_(o.course.program.title),1),u("div",ge,_(o.course.level),1)],8,de)],2))),128))])):L("",!0)],2))),128))])],64))}},Te=JSON.parse('{"title":"Classes","description":"Weekly classes in ongoing courses","frontmatter":{"title":"Classes","description":"Weekly classes in ongoing courses"},"headers":[],"relativePath":"classes/index.md","filePath":"classes/index.md"}'),pe={name:"classes/index.md"},ye=Object.assign(pe,{setup(s){const e=b(()=>U(()=>import("./chunks/ClassList.DlQICEaH.js"),__vite__mapDeps([0,1,2,3]))),t=b(()=>U(()=>import("./chunks/ClassPage.C1SkgxFd.js"),__vite__mapDeps([4,1,2,3])));return(n,a)=>(m(),g("div",null,[y(he),y(d(e)),y(d(t))]))}});export{Te as __pageData,ye as default};
